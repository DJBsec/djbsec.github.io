document.addEventListener("DOMContentLoaded",(function(){window.lookupIP=async function(){const t=document.getElementById("ipInput").value.trim(),e=document.getElementById("ipResult");if(e.textContent="\ud83d\udd0e Checking...",/^(\d{1,3}\.){3}\d{1,3}$/.test(t))try{const n=await fetch(`/assets/data/ipcache/${t}.json`);if(!n.ok)throw new Error("Not found");const o=(await n.json()).data;e.textContent=`\n\u2705 IP: ${o.ipAddress}\n\ud83c\udf0d Country: ${o.countryCode}\n\ud83c\udff7\ufe0f ISP: ${o.isp}\n\ud83d\udd52 Last Reported: ${o.lastReportedAt||"Never"}\n\ud83d\udee1\ufe0f Abuse Score: ${o.abuseConfidenceScore}\n\ud83d\udcca Total Reports: ${o.totalReports}\n\ud83d\udd17 https://www.abuseipdb.com/check/${t}\n      `.trim()}catch(n){e.textContent=`\u274c No cached data found for ${t}. Use GitHub Actions to query it securely.`}else e.textContent="\u274c Invalid IP format."}}));